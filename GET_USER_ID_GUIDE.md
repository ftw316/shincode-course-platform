# Google OAuthå¾Œã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDå–å¾—ã‚¬ã‚¤ãƒ‰

## ðŸŽ¯ ç›®çš„
Google OAuthã§ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’å–å¾—ã—ã¦ç®¡ç†è€…æ¨©é™ã‚’è¨­å®šã™ã‚‹

## ðŸ“‹ æ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãƒ­ã‚°ã‚¤ãƒ³
1. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
   ```bash
   npm run dev
   ```

2. ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã‚’é–‹ã

3. **ã€Œãƒ­ã‚°ã‚¤ãƒ³ã€**ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ Google OAuthå®Ÿè¡Œ

### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’ç¢ºèª

#### æ–¹æ³•A: Supabase Dashboardï¼ˆæŽ¨å¥¨ï¼‰
1. **Supabase Dashboard** (https://supabase.com/dashboard)
2. ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé¸æŠž
3. **å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ Authentication**
4. **Users** ã‚¿ãƒ–
5. ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã® **IDåˆ—** ã‚’ã‚³ãƒ”ãƒ¼
   - ä¾‹: `a1b2c3d4-e5f6-7890-abcd-ef1234567890`

#### æ–¹æ³•B: ãƒ–ãƒ©ã‚¦ã‚¶é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«
1. ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€**F12**ã§é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’é–‹ã
2. **Console**ã‚¿ãƒ–
3. ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ:
   ```javascript
   // Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—
   const { createClient } = require('@supabase/supabase-js');
   // ã¾ãŸã¯ã‚·ãƒ³ãƒ—ãƒ«ã«
   console.log('Check Supabase Dashboard > Authentication > Users for your ID');
   ```

#### æ–¹æ³•C: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ä¸€æ™‚çš„ãªã‚³ãƒ¼ãƒ‰è¿½åŠ 
`src/components/AuthButton.tsx`ã«ä¸€æ™‚çš„ã«è¿½åŠ :
```tsx
// useEffectå†…ã«è¿½åŠ ï¼ˆé–‹ç™ºæ™‚ã®ã¿ï¼‰
useEffect(() => {
  if (user) {
    console.log('Your User ID:', user.id); // <- ã“ã‚Œã‚’è¿½åŠ 
  }
}, [user]);
```

### ã‚¹ãƒ†ãƒƒãƒ—3: ç®¡ç†è€…æ¨©é™ã®è¨­å®š
ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’å–å¾—ã—ãŸã‚‰ã€**Supabase Dashboard â†’ SQL Editor**ã§å®Ÿè¡Œ:

```sql
-- å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã«ç½®ãæ›ãˆã¦å®Ÿè¡Œ
UPDATE user_profiles 
SET role = 'admin' 
WHERE user_id = 'a1b2c3d4-e5f6-7890-abcd-ef1234567890'; -- <- ã“ã“ã‚’å®Ÿéš›ã®IDã«å¤‰æ›´
```

### ã‚¹ãƒ†ãƒƒãƒ—4: ç¢ºèª
```sql
-- ç®¡ç†è€…æ¨©é™ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
SELECT user_id, display_name, role 
FROM user_profiles 
WHERE role = 'admin';
```

## ðŸš¨ é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ

1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®å½¢å¼**: UUIDå½¢å¼ï¼ˆä¾‹: `a1b2c3d4-e5f6-7890-abcd-ef1234567890`ï¼‰
2. **user_profiles ãƒ†ãƒ¼ãƒ–ãƒ«**: Google OAuthå¾Œã«è‡ªå‹•ä½œæˆã•ã‚Œã‚‹
3. **åˆå›žãƒ­ã‚°ã‚¤ãƒ³**: `role`ã¯æœ€åˆ`'user'`ã«è¨­å®šã•ã‚Œã‚‹
4. **ç®¡ç†è€…è¨­å®š**: `UPDATE`ã§`'admin'`ã«å¤‰æ›´

## ðŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### user_profiles ãƒ†ãƒ¼ãƒ–ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ãŒãªã„å ´åˆ
```sql
-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’æ‰‹å‹•ä½œæˆ
INSERT INTO user_profiles (user_id, display_name, role)
VALUES ('your-user-id-here', 'Your Name', 'admin');
```

### ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ
1. **å¿…ãšGoogleã§ãƒ­ã‚°ã‚¤ãƒ³å®Œäº†å¾Œ**ã«ç¢ºèª
2. **Supabase Dashboard** â†’ **Authentication** â†’ **Users**ãŒæœ€ç¢ºå®Ÿ
3. **ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰**ã¯ä½¿ç”¨ã—ãªã„

## âœ… å®Œäº†å¾Œã®ç¢ºèªæ–¹æ³•

ç®¡ç†è€…æ¨©é™è¨­å®šå¾Œã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§:
1. **ç®¡ç†ç”»é¢**ï¼ˆ/adminï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
2. **è¬›åº§ãƒ»å‹•ç”»ã®ä½œæˆãƒ»ç·¨é›†**ãŒå¯èƒ½
3. **AuthButton**ã«ã€Œç®¡ç†ç”»é¢ã€ãƒªãƒ³ã‚¯è¡¨ç¤º

---

**ã“ã®ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦ã€å®‰å…¨ã«ç®¡ç†è€…æ¨©é™ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼**